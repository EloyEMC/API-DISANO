# ============================================
# CONFIGURACIÓN API DISANO
# ============================================
# Copia este archivo a .env y configura tus valores
# IMPORTANTE: El archivo .env NO debe subirse a git

# ============================================
# ENVIRONMENT
# ============================================
# development | production
ENVIRONMENT=development

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000

# ============================================
# SEGURIDAD - API KEYS
# ============================================
# Generar API keys con: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Separa múltiples keys con comas
# Ejemplo: API_KEYS=primera-key-seguida-aqui,segunda-key-diferente-aqui
API_KEYS=

# Header para enviar la API key (no cambiar a menos que sepas lo que haces)
API_KEY_HEADER=X-API-Key

# ============================================
# SEGURIDAD - RATE LIMITING (ANTI-SCRAPING)
# ============================================
# Habilitar/deshabilitar rate limiting
RATE_LIMIT_ENABLED=true

# Peticiones por minuto por API key (recomendado: 30)
RATE_LIMIT_PER_CLIENT=30

# Peticiones por minuto totales globales (recomendado: 1000)
RATE_LIMIT_GLOBAL=1000

# Máximo peticiones en burst (recomendado: 10)
RATE_LIMIT_BURST=10

# Peticiones/min para endpoints de listado (recomendado: 10)
RATE_LIMIT_LISTINGS=10

# ============================================
# SEGURIDAD - USER-AGENT FILTERING
# ============================================
# User-Agents bloqueados (separados por comas)
# Estos patrones bloquean scrapers comunes
BLOCKED_USER_AGENTS=python-requests,curl,wget,scraper,crawler,bot,spider,headless,phantom,selenium

# ============================================
# SEGURIDAD - CORS
# ============================================
# En producción, especificar dominios exactos separados por comas
# Ejemplo: CORS_ORIGINS=https://miapp.com,https://www.miapp.com
# En development puedes usar * para permitir todos
CORS_ORIGINS=*

# Permitir cookies en CORS
CORS_ALLOW_CREDENTIALS=true

# Métodos HTTP permitidos
CORS_ALLOW_METHODS=*

# Headers permitidos
CORS_ALLOW_HEADERS=*

# ============================================
# SEGURIDAD - HTTPS
# ============================================
# Habilitar HTTPS enforcement (recomendado: true en producción)
HTTPS_ENABLED=true

# HSTS Max-Age en segundos (recomendado: 31536000 = 1 año)
HTTPS_HSTS_MAX_AGE=31536000

# Incluir subdominios en HSTS
HTTPS_HSTS_INCLUDE_SUBDOMAINS=true

# HSTS Preload
HTTPS_HSTS_PRELOAD=true

# ============================================
# SEGURIDAD - DOCUMENTACIÓN
# ============================================
# Documentación totalmente deshabilitada por seguridad
DOCS_ENABLED=false

# ============================================
# SEGURIDAD - ANTI-SCRAPING
# ============================================
# Habilitar detección de patrones de scraping
SCRAPING_DETECTION_ENABLED=true

# Habilitar ban automático de IPs
BAN_ENABLED=true

# Duración del primer ban en segundos (3600 = 1 hora)
BAN_DURATION_FIRST_OFFENSE=3600

# Duración del segundo ban en segundos (86400 = 24 horas)
BAN_DURATION_SECOND_OFFENSE=86400

# ============================================
# LOGGING
# ============================================
# Nivel de log: DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_LEVEL=INFO

# Archivo de log principal
LOG_FILE=logs/api.log

# Rotación de log (tamaño máximo antes de rotar)
LOG_ROTATION=500 MB

# Retención de logs (cuánto tiempo guardar)
LOG_RETENTION=10 days

# Habilitar log de seguridad separado
SECURITY_LOG_ENABLED=true

# ============================================
# BASE DE DATOS
# ============================================
# Ruta a la base de datos SQLite
DATABASE_PATH=database/tarifa_disano.db
